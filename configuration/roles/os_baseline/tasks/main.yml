---
- name: Load OS specific tasks
  ansible.builtin.include_tasks: "{{ ansible_os_family | lower }}.yml"

- name: Set swappiness
  ansible.builtin.sysctl:
    name: vm.swappiness
    value: "{{ baseline_swappiness }}"
    sysctl_set: true
    state: present
    reload: true
  tags: [sysctl, optimization]

- name: Verify swappiness value
  ansible.builtin.command: sysctl vm.swappiness
  register: swappiness_output
  changed_when: false

- name: Print swappiness verification
  ansible.builtin.debug:
    var: swappiness_output.stdout

- name: Verify git installation
  ansible.builtin.command: git --version
  register: git_version
  changed_when: false

- name: Print git version
  ansible.builtin.debug:
    var: git_version.stdout
